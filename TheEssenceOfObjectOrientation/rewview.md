<!-- markdownlint-disable MD025 MD036 -->

# 한줄평

개발자가 본 이상한 나라의 앨리스. 그리고 역할, 책임, 협력

# 책소개

이 책은 2015년에 출판된 책이다. 저자는 조용호이다. 객체지향에 대해 프로그래밍 언어를 중심으로 설명한게 아니라 원론적인 개념을 중심으로 설명한 책이다. 페북친구안 안영회님이 인터뷰를 올린 블로그가 있어 책을 보고 나서 읽어보면 저자에 대해 조금 더 알 수 있다.
[인터뷰: 객체지향의 사실과 오해 저자 조영호씨에게 물음](https://younghoe.wordpress.com/2015/08/07/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%9D%98-%EC%82%AC%EC%8B%A4%EA%B3%BC-%EC%98%A4%ED%95%B4-%EC%A0%80%EC%9E%90-%EC%A1%B0%EC%98%81%ED%98%B8%EC%94%A8%EC%97%90%EA%B2%8C-%EB%AC%BC%EC%9D%8C/)

# 감상평

먼저 이 책을 읽게 된 것은 객체지향에 대해 좀 더 알고 싶다라는 마음에 어떤 책이 좋을 지 찾다가 지금 참여 중인 개발자 독서 모임([개발자 한 달에 책 한 권 읽기](https://web.facebook.com/dev.reader/))에서 이 전에 토론한 책이라 보게 되었다. 그동안은 객체지향을 알려면 매번 클래스를 가지고 캡슐화, 상속, 다형성을 설명하는 게 대부분이였다. 특정 언어의 문법 위주와 자동차에 대한 객체 비유만으로는 구현 전에 내가 만들어야 하는 상황에서 객체를 어떻게 찾고 구성해야 하는지는 알 수 가 없었다. 대학수업과 박영만 학원 SE과정에서 배웠던 바에서도 프로젝트에 대한 문제 정의, 요구사항 정리를 한 다음 거기서 동적인 부분과 정적인 부분(대개 명사 단어와 행위 임)을 추출해서 클래스를 하나씩 만들고 관계를 연결하는 것이 설명이였다. 막상 실제 프로젝트에 맞닥뜨리게 되면 문제 정의와 요구사항에서 객체를 찾기가 여긴 쉽지 않았다.

이 책에서 보여준 역할, 책임, 협력 관점에서 객체를 찾는 과정은 이전에 하기 힘들어 했던 부분을 조금은 쉽게 풀어낼 수 있을 것 같다는 생각이 들게 하였다. 책에서 핵심으로 얘기한 아래 문구가 내가 그동안 고정적으로 생각하던 것을 깨주는 것이였다.

> 널리 알려진 미신과 달리 객체지향의 핵심은 클래스가 아니다. 핵심은 적절한 책임을 수행하는 역할 간의 유연ㅇ하고 견고한 협력 관계를 구축하는 것이다. 클래스는 협력에 참여하는 객체를 만드는 데 필요한 구현 매커니즘일 뿐이다. 클래스가 중요하지 않다는 것이 아니라 단지 협력 구죠와 책임을 식별하는 것에 비해 상대적으로 덜 중요하다는 것을 말하고 싶은 것이다.\
...중략...\
클래스의 구조와 메서드가 아니라 객체의 역할, 책임, 협력에 집중하라. 객체지향은 개체를 지향하는 것이지 클래스를 지향하는 것이 아니다.

이 책의 특징은 `이상하 나라의 앨리스` 동화를 소재로 하여 역할, 책임, 협력을 설명하는 방법이 재미있게 다가왔으며, 이 것들을 이해하는 데 나에게 도움이 되었으니 저자의 소재 선택이 좋았다고 판단한다. 또 하나의 특징은 초심자를 위한 것이 아니라 설계, 구현의 경험이 있는 독자를 대상이라는 점이다. 책을 읽다 보면 "당신이 그동안은 이렇게 생각했을 테지만 사실은 이렇다"는 느낌을 자주 받았다. 사실 저자가 서문의 대상 독자에서도 객체지향 프로그래밍 언어를 사용하는 소프트웨어 개발자를 대상으로 했다고 쓰여 있다. 내 생각엔 구현보다는 특히 설계를 했던 경험이 있는 독자가 봐야 도움이 될 것 같다는 느낌이 든다.

좋은 객체지향 구조로 프로그래밍을 하고 싶다라는 바램이 있는 사람들이 읽어보기에 좋은 책이다.

마지막으로 객체지향에 대한 책을 보면서 객체라는 단어 표현에 불편함이 있다. 우리나라에서 `Object`를 객체로 표현하는 것에는 반대하는 편이다. 이에 대해서는 개발자 Pope Kim님의 의견에 동의한다. 사전에 `객체`를 찾아보면 `주체로부터 독립되어 있는 인간의 인식과 실천의 대상`, `문장 내에서 동사의 행위가 미치는 대상`이라고 나온다. 그리고 `객체`는 `주체`의 반대말이다. 사전적의미로 보면 어떤 행위를 당하는 대상에 초점이 맞춰져 있는 느낌이다.
(출처: [다음사전 우리말샘](https://dic.daum.net/word/view.do?wordid=kkw000008564&q=%EA%B0%9D%EC%B2%B4&supid=kku000011946))

이 보다는 `개체`라는 단어가 더 어울리는 것 같다. 사전적의미로 보면 `단일하고 고유한 독자적 존재`, `하나의 생물로서 생존하는 데 필요한 기능과 구조를 갖춘 최소의 단위`와 같다. 사물, 동물, 존재처럼 단일한 물체나 개념에 `개체`가 더 어울리는 느낌이 있다.
(출처: [다음사전 우리말샘](https://dic.daum.net/word/view.do?wordid=kkw000008225&supid=kku000011453))

# 내용 갈무리

## 01 협력하는 객체들의 공동체

> 시너지를 생각하라. 전체는 부분의 합보다 크다\
\- 스티븐 코비(Stephen R. Covey)

> 아쉽게도 실세계의 모방이라는 개념은 객체지향의 기반을 이루는 철학적인 개념을 설명하는 데는 적합하지만 유연하고 실용적인 관점에서 객체지향 분석, 설계를 설명하기에는 적합하지 않다.

객체지향이 실세계를 모방하는게 아니라는 그동안의 많은 통념을 깨는 주장이 흥미롭다.

> 사람들은 다른 사람과 협력하는 과정 속에서 특정한 역할(role)을 부여받는다.\
...중략...\
역할은 어떤 협력에 참여하는 특정한 사람이 협력 안에서 차지하는 책임이나 임무를 의미한다.\
...중략...\
방금 책임(responsibility)이라는 단어를 사용했던가? 그렇다. 역할이라는 단어는 의미적으로 책임이라는 개념을 내포한다.\
...중략...\
특정한 역할은 특정한 책임을 암시한다.

**협력, 역할, 책임이 가지는 중요한 개념**

* 여러 사람이 동일한 역할을 수행할 수 있다
* 역할은 대체 가능성을 의미한다
* 책임을 수행하는 방법은 자율적으로 선택할 수 있다
* 한 사람이 동시에 여러 역할을 수행할 수 있다

> 과거의 전통적인 개발 방법은 데이터와 프로세스를 엄격하게 구분한다. 이에 반해 객체지향에서는 데이터와 프로세스를 객체라는 하나의 틀 안에 함께 묶어 놓음으로써 객체의 자율성을 보장한다.

이 말에 동의

## 02 이상한 나라의 객체

> 객체지향 패러다임은 지식을 추상화하고 추상화한 지식을 객체 안에 캡슐화함으로써 실세계 문제에 내재된 복잡성을 관리하려고 한다. 객체를 발견하고 창조하는 것은 지식과 행동을 구조화하는 문제다.\
\- 레베카 워프스브룩(Rebecca Wirfs-Brock)

> 객체지향 패러다임의 목적은 현실 세계를 모방하는 것이 아니라 현실 세계를 기반으로 새로운 세계를 창조하는 것이다.

내가 알고 있던 바를 깨는 주장이다. 근데 동의하게 된다.

> 객체의 다향한 특성을 효과적으로 설명하기 위해서는 객체를 상태(state), 행동(behavior), 식별자(identity)를 지닌 실체로 보는 것이 가장 효과적이다.

> 일반적으로 과거에 발생한 행동의 이력을 통해 현재 발생한 행동의 결과를 판단하는 방식은 복잡하고 번거로우며 이해하기 어렵다. 따라서 인간은 행동의 과정과 결과를 단순하게 기술하기 위해 상태라는 개념을 고안했다.

`상태` 개념의 배경

> 단순한 값들은 그 자체로 독립적인 의미를 가지기보다는 다른 객체의 특성을 표현하는데 사용된다.

> 객체의 프로퍼티는 단순한 값인 속성과 다른 객체를 가리키는 링크라는 두 가지 종류의 조합으로 표현할 수 있다.

> 객체의 행동에 의해 객체의 상태가 변경된다는 것은 행동이 부수 효과(side effect)를 초래한다는 것을 의미한다.\
...중략...\
앨리스가 케이크를 먹는 행위는 앨리스의 키를 작게 변화시키고 케이크의 양을 줄이는 부수 효과를 야기한다.

부수 효과를 설명한 예제가 좋음.

**상태라는 개념을 이용해 행동을 서술한 두 가지 관점**

* 상호작용이 현재의 상태에 어떤 방식으로 의존하는가?
* 상호작용이 어떻게 현재의 상태를 변경시키는가?

> 앨리스는 직접적으로 음료의 상태를 변경할 수 없다. 단지 음료에게 자신이 음료를 마셨다는 메시지를 전달할 수 있는 뿐이다.

확실히 현실세게와의 차이점을 설명하는 문구다.

> 메시지를 앨리스에게 전송하는 객체이건 음료에게 메시지를 전송하는 앨리스 객체이건 메시지 송신자는 메시지 수신자의 상태 변경에 대해서는 전혀 알지 못한다.\
이것이 캡슐화가 의미하는 것이다.

> 값과 객체의 가장 큰 차이점은 값은 식별자를 가지지 않지만 객체는 식별자를 가진다는 점이다.

> 값(value)은 숫자, 문자열, 날짜, 시간, 금액 등과 같이 변하지 않는 양을 모델링한다. 흔히 값의 상태는 변하지 않기 떄문에 불변 상태(immutable state)를 가진다고 한다.

> 상태를 이용해 두 값이 같은지 판단할 수 있는 성질을 동등성(equality)이라고 한다. 상태를 이용해 동등성을 판단할 수 있는 이유는 값의 상태가 변하지 않기 때문이다.

동등성으로 값을 판단하는 이유

> 객체는 시간에 따라 변경되는 상태를 포함하며, 행동을 통해 상태를 변경한다. 따라서 객체는 가변 상태(mutable state)를 가진다고 말한다.

> 객체 역시 사람과 유사하게 상태와 무관하게 두 객체를 동일하거나 다르다고 판단할 수 있는 프로퍼티를 가진다. 두 객체의 상태가 다르더라도 식별자가 같다면 두 객체를 같은 객체로 판단할 수 있다. 이처럼 식별자를 기반으로 객체가 같은지 판단할 수 있는 성질을 동일성(identical)이라고 한다.\
상태를 기반으로 객체의 동일성을 판단할 수 없는 이유는 시간이 흐름에 따라 객체의 상태가 변하기 때문이다.

> 참조 객체(reference object), 또는 엔티티(entity)는 식별자를 지닌 전통적인 의미의 객체를 가리키는 용어다. 값 객체(value object)는 식별자를 가지지 않는 값을 가리키는 용어다.

P64까지 정리함